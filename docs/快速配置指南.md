# 快速配置环境变量指南

## 方法1：直接设置环境变量（推荐）

在终端中直接设置环境变量，然后运行测试：

```bash
cd /projects/trip_doge

# 设置必需的环境变量
export DASHSCOPE_API_KEY="your_dashscope_api_key"
export MYSQL_PASSWORD="your_mysql_password"  # 如果需要密码

# 其他使用默认值
export MYSQL_HOST="localhost"
export MYSQL_DATABASE="trip_dog"
export MYSQL_USERNAME="root"
export REDIS_HOST="localhost"
export REDIS_PORT="6379"
export MINIO_ENDPOINT="http://localhost:9000"
export MINIO_AK="minioadmin"
export MINIO_SK="minioadmin"

# 执行测试
./配置并测试.sh
```

## 方法2：使用配置脚本

运行交互式配置脚本：

```bash
cd /projects/trip_doge
./配置并测试.sh
```

脚本会提示您输入必要的配置信息。

## 方法3：创建.env文件（不推荐提交到git）

```bash
cd /projects/trip_doge

cat > .env << 'EOF'
DASHSCOPE_API_KEY=your_dashscope_api_key
MYSQL_HOST=localhost
MYSQL_DATABASE=trip_dog
MYSQL_USERNAME=root
MYSQL_PASSWORD=your_password
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_DATABASE=0
MINIO_ENDPOINT=http://localhost:9000
MINIO_AK=minioadmin
MINIO_SK=minioadmin
EOF

# 加载环境变量
export $(cat .env | grep -v '^#' | xargs)

# 执行测试
./配置并测试.sh
```

## 最小配置（仅测试API修复）

如果只需要测试API修复，最小配置如下：

```bash
export DASHSCOPE_API_KEY="your_key"
export MYSQL_HOST="localhost"
export MYSQL_DATABASE="trip_dog"
export MYSQL_USERNAME="root"
export MYSQL_PASSWORD=""  # 如果MySQL无密码
export REDIS_HOST="localhost"
export REDIS_PORT="6379"
export REDIS_DATABASE="0"
export MINIO_ENDPOINT="http://localhost:9000"
export MINIO_AK="minioadmin"
export MINIO_SK="minioadmin"
```

## 验证配置

配置完成后，验证环境变量：

```bash
echo "DASHSCOPE_API_KEY: ${DASHSCOPE_API_KEY:0:10}..."
echo "MYSQL_HOST: $MYSQL_HOST"
echo "MYSQL_DATABASE: $MYSQL_DATABASE"
```

## 执行测试

配置完成后，执行完整测试：

```bash
cd /projects/trip_doge
./配置并测试.sh
```

或者直接运行测试脚本：

```bash
cd /projects/trip_doge
./docs/执行完整测试验证.sh
```


